# PWA 全屏使用指南

巡检 App 已支持 PWA（Progressive Web App）。**添加到主屏幕后，从主屏幕图标打开即可全屏使用**（无浏览器地址栏、无多标签），适合现场电工在平板上使用。

---

## 一、什么是「全屏」？

- **在浏览器里打开**：会看到地址栏、标签页，像普通网页。
- **从主屏幕图标打开**：以「独立应用」方式打开，**全屏显示**（无地址栏、无浏览器 UI），更像原生 App。

本项目的 `manifest.json` 已设置 `"display": "standalone"`，所以**只有从主屏幕图标启动时才会全屏**。

---

## 二、使用步骤（以现场常用设备为例）

### 第一步：确保能访问到 App 地址

- **已部署到 Netlify**：用正式域名打开，例如  
  `https://你的站点名.netlify.app`
- **本地测试**：在电脑上运行 `npm run build` 再 `npm run preview`，用手机/平板连同一 WiFi，在浏览器输入电脑显示的地址（如 `http://192.168.x.x:4173`）。

---

### 第二步：在设备上「添加到主屏幕」

#### 在 Android（Chrome）

1. 用 **Chrome** 打开巡检 App 的网址。
2. 点击浏览器右上角 **⋮**（三个点）菜单。
3. 在菜单里选择 **「添加到主屏幕」** 或 **「安装应用」** / **「Install app」**。
4. 在弹窗里确认名称（如 "Inspection"），点 **「添加」** 或 **「安装」**。
5. 主屏幕会出现 **「Inspection」** 图标。

#### 在 iPad / iPhone（Safari）

1. 用 **Safari** 打开巡检 App 的网址（不能用 Chrome 添加主屏幕）。
2. 点击底部 **分享** 按钮（方框带箭头）。
3. 在分享菜单里向下滑，选择 **「添加到主屏幕」**。
4. 可改名称，然后点右上角 **「添加」**。
5. 主屏幕会出现该图标。

#### 在 Windows / Mac（Chrome 或 Edge）

1. 用 **Chrome** 或 **Edge** 打开巡检 App 的网址。
2. 地址栏右侧有时会显示 **「安装」** / **⊕ 安装** 图标，点击即可安装。
3. 若没有，可点 **⋮** 菜单 → **「安装 Essential Electrical Inspection…」** 或类似选项。
4. 安装后可从开始菜单或桌面快捷方式打开，窗口为独立应用（无标签栏）。

---

### 第三步：从主屏幕图标打开（全屏使用）

1. **不要**再从浏览器里输入网址打开。
2. 直接在主屏幕点 **「Inspection」**（或你改的名字）图标。
3. App 会以**独立窗口**打开：
   - **手机/平板**：全屏，无地址栏、无浏览器多标签。
   - **电脑**：独立应用窗口，无浏览器标签栏。

这样使用即为 **PWA 全屏模式**。

---

## 三、如何确认是全屏模式？

- 看不到浏览器顶部的**地址栏**（没有 `https://...` 那一行）。
- 没有浏览器的**前进/后退/多标签**等控件（我们 App 内部有自己的 Back/Next）。
- 多任务界面里，会显示为 **「Inspection」** 或 **「Essential Electrical Inspection」** 独立应用，而不是「Chrome」或「Safari」。

---

## 四、常见问题

**Q：我点了「添加到主屏幕」，但打开后还是有地址栏？**  
A：请确认是从**主屏幕的图标**点进去的，而不是从浏览器书签或历史记录里打开的。只有从主屏幕启动才会走 PWA 全屏。

**Q：图标/名称能改吗？**  
A：Android 在「添加到主屏幕」时有的机型可改名称；iOS 在「添加到主屏幕」时能改名称。图标由 `manifest.json` 和 `icon.svg` 决定，要改需改项目里的图标并重新部署。

**Q：本地开发时怎么试全屏？**  
A：  
1. 运行 `npm run build` 再 `npm run preview`。  
2. 手机/平板和电脑同一 WiFi，在手机浏览器输入预览地址。  
3. 在手机/平板上按上面步骤「添加到主屏幕」，然后从主屏幕图标打开即可全屏。

**Q：数据会丢吗？**  
A：PWA 只是打开方式不同，数据（如草稿、提交）和用浏览器打开时一样，仍会按现有逻辑保存（如本地草稿、提交到服务器）。

---

## 五、小结

| 步骤 | 做什么 |
|------|--------|
| 1 | 用浏览器打开巡检 App 的正式网址（或本地预览地址） |
| 2 | 在浏览器里选择「添加到主屏幕」/「安装应用」 |
| 3 | 之后**从主屏幕图标打开**，即全屏使用 PWA |

只要记住：**先「添加到主屏幕」，再「从主屏幕图标打开」**，就能一直以全屏方式使用。
